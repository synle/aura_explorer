//Developed by Sy Le. Coprighted by Salesforce.com 2015
{"version":3,"sources":["dependenciesPage.js"],"names":[],"mappings":"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","file":"dependenciesPage.js","sourcesContent":["//external\nimport _ from 'lodash';\n\n//internal\n//data\nimport dataDependenciesMap from './data/dependenciesMap.json';\nimport usageMaps from './data/usageMap.json';\n\n//internal react components\nimport ListView from './src/client/components/ListView';\nimport Attributes_Handler_Events_Table from './src/client/components/AttributesHandlerEventsTable';\nimport UsageTable from './src/client/components/UsageTable';\nimport ControlDetailLink from './src/client/components/ControlDetailLink';\nimport DependenciesDetailTable from './src/client/components/DependenciesDetailTable';\nimport MethodTable from './src/client/components/MethodTable';\n\n//utils\nimport util from './src/client/util';\n\n\n//control detail\nconst ControlDetailPage = React.createClass({\n\trender() {\n\t\tif (!this.props.controlName){\n\t\t\treturn (\n\t\t\t\t<div className=\"panel panel-primary\">\n\t\t\t\t\t<div className=\"panel-body\">\n\t\t\t\t\t\tPlease select a match from the left side of this page to view the detailed description\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else{\n\t\t\tconst controlName = this.props.controlName.toLowerCase();\n\t\t\tconst shortControlName = controlName.substr(controlName, controlName.lastIndexOf('.'));\n\t\t\tconst dependenciesMap = _.get(this, 'props.controlObj.dependencies', {});\n\t\t\tconst methodsMap = _.get(this, 'props.controlObj.methods', {});//{controlName => methodName : {attribs}}\n\n\t\t\tconst attributeList = _.values( _.get(this, 'props.controlObj.attributes', []) );\n\t\t\tconst eventsList    = _.values( _.get(this, 'props.controlObj.events', {}) );\n\t\t\tconst handlersList  = _.values( _.get(this, 'props.controlObj.handlers', {}) );\n\t\t\tconst importsList   = _.values( _.get(this, 'props.controlObj.imports', {}) );\n\n\t\t\tconst usageList = _.reduce(\n\t\t\t\tusageMaps,\n\t\t\t\t(res, usageMap, curControlName) => {\n\t\t\t\t\tif (shortControlName === curControlName.toLowerCase()){\n\t\t\t\t\t\treturn usageMap;\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\n\n\t\t\tconst controlNameBreadCrumsDom = _.map(\n\t\t\t\tcontrolName.split(/[:.]/),\n\t\t\t\t(token, tokenIdx) => {\n\t\t\t\t\treturn ( <li key={`${token}-${tokenIdx}`}>{token}</li> );\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div id=\"control-detail-wrapper\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ol className=\"breadcrumb\">{controlNameBreadCrumsDom}</ol>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ul className=\"nav nav-tabs\" role=\"tablist\">\n\t\t\t\t\t\t<li role=\"presentation\" className=\"active\"><a href=\"#tab-attributes\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">Attributes</a></li>\n\t\t\t\t\t\t<li role=\"presentation\"><a href=\"#tab-dependencies\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">Dependencies</a></li>\n\t\t\t\t\t\t<li role=\"presentation\"><a href=\"#tab-events\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">Events</a></li>\n\t\t\t\t\t\t<li role=\"presentation\"><a href=\"#tab-imports\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">Imports</a></li>\n\t\t\t\t\t\t<li role=\"presentation\"><a href=\"#tab-handlers\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">Handlers</a></li>\n\t\t\t\t\t\t<li role=\"presentation\"><a href=\"#tab-methods\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">Methods</a></li>\n\t\t\t\t\t\t<li role=\"presentation\"><a href=\"#tab-usages\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">Usages</a></li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<div className=\"tab-content\">\n\t\t\t\t\t\t<div role=\"tabpanel\" className=\"tab-pane active\" id=\"tab-attributes\"><Attributes_Handler_Events_Table name='Attributes' properties={attributeList} /></div>\n\t\t\t\t\t\t<div role=\"tabpanel\" className=\"tab-pane\" id=\"tab-dependencies\"><DependenciesDetailTable dependencies={dependenciesMap} /></div>\n\t\t\t\t\t\t<div role=\"tabpanel\" className=\"tab-pane\" id=\"tab-events\"><Attributes_Handler_Events_Table name='Events' properties={eventsList} /></div>\n\t\t\t\t\t\t<div role=\"tabpanel\" className=\"tab-pane\" id=\"tab-imports\"><Attributes_Handler_Events_Table name='Imports' properties={importsList} /></div>\n\t\t\t\t\t\t<div role=\"tabpanel\" className=\"tab-pane\" id=\"tab-handlers\"><Attributes_Handler_Events_Table name='Handlers' properties={handlersList} /></div>\n\t\t\t\t\t\t<div role=\"tabpanel\" className=\"tab-pane\" id=\"tab-methods\"><MethodTable methodsMap={methodsMap} /></div>\n\t\t\t\t\t\t<div role=\"tabpanel\" className=\"tab-pane\" id=\"tab-usages\"><UsageTable selectedControlName={controlName} usage={usageList} /></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// return nextProps.selectedControlName !== this.props.selectedControlName;\n\t\treturn true;//always update\n\t}\n});\n\n\n\n//main page\nconst DependenciesPage = React.createClass({\n\tgetInitialState(){\n\t\tconst searchTerm = util.getSearchTerm(location.href);\n\t\tconst flattenDependencies = util.flattenDependencies( dataDependenciesMap );\n\n\t\tconst myInitState = {\n\t\t\tflattenDependencies,\n\t\t\tsearchTerm,\n\t\t\tmatchedControls : util.findMatchingControl( flattenDependencies, searchTerm ),\n\t\t\tselectedControlName : '',\n\t\t\tselectedControlObj : {},\n\t\t};\n\n\t\t//auto select the only item in the list\n\t\tif (_.size(myInitState.matchedControls) === 1){\n\t\t\tmyInitState.selectedControlName = _.keys(myInitState.matchedControls)[0];\n\t\t\tmyInitState.selectedControlObj = myInitState.matchedControls[myInitState.selectedControlName];\n\t\t}\n\n\t\treturn myInitState;\n\t},\n\trender() {\n\t\tlet domSelectedControlDetail;\n\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-12 mb15\">\n\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t<span className=\"input-group-addon\" id=\"search-term-input\">Search Term</span>\n\t\t\t\t\t\t\t<input type=\"text\"\n\t\t\t\t\t\t\t\tvalue={this.state.searchTerm}\n\t\t\t\t\t\t\t\tonChange={this.onSearchTermChanged}\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Enter text to search... (<namespace>:<control>)\"\n\t\t\t\t\t\t\t\taria-describedby=\"search-term-input\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t<div id=\"search-matches-wrapper\" className=\"panel panel-success\">\n\t\t\t\t\t\t\t<div className=\"panel-heading\">\n\t\t\t\t\t\t\t\t<h3 className=\"panel-title\">\n\t\t\t\t\t\t\t\t\tMatching Searches\n\t\t\t\t\t\t\t\t\t<span className=\"badge pull-right\">{_.size(this.state.matchedControls)} matches</span>\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"panel-body\">\n\t\t\t\t\t\t\t\t<ListView data={this.state.matchedControls}\n\t\t\t\t\t\t\t\t\tonRowSelection={this.onViewControlDetail}\n\t\t\t\t\t\t\t\t\tselectedItem={this.state.selectedControlName} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"control-detail-wrapper\" className=\"col-sm-8\">\n\t\t\t\t\t\t<ControlDetailPage controlName={this.state.selectedControlName}\n\t\t\t\t\t\t\tcontrolObj={this.state.selectedControlObj} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n\tonSearchTermChanged({ target: { value: newSearchTerm } }) {\n\t\tnewSearchTerm = newSearchTerm.toLowerCase();\n\n\t\tthis.setState({\n\t\t\tsearchTerm : newSearchTerm,\n\t\t\tmatchedControls : util.findMatchingControl( this.state.flattenDependencies, newSearchTerm )\n\t\t});\n\t},\n\tonViewControlDetail(controlName){\n\t\tthis.setState({\n\t\t\t// searchTerm : controlName,\n\t\t\t// matchedControls : util.findMatchingControl( controlName ),\n\t\t\tselectedControlName: controlName,\n\t\t\tselectedControlObj : this.state.matchedControls[controlName]\n\t\t});\n\t},\n});\n\n\n\n\n\n//rendering\nutil.render( () => {\n\t//control usage count\n\tReactDOM.render(\n\t\t<DependenciesPage />,\n\t\tdocument.querySelector('#body')\n\t);\n});"],"sourceRoot":"/source/"}