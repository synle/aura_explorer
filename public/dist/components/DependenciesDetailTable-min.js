"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=require("lodash"),_lodash2=_interopRequireDefault(_lodash),_util=require("dist/util"),_util2=_interopRequireDefault(_util),_ControlDetailLink=require("dist/components/ControlDetailLink"),_ControlDetailLink2=_interopRequireDefault(_ControlDetailLink),_KeyValTable=require("dist/components/KeyValTable"),_KeyValTable2=_interopRequireDefault(_KeyValTable),_KeyValueXmlSyntax=require("dist/components/KeyValueXmlSyntax"),_KeyValueXmlSyntax2=_interopRequireDefault(_KeyValueXmlSyntax),DependenciesDetailTable=React.createClass({displayName:"DependenciesDetailTable",getInitialState:function(){return{useXmlForm:!1}},render:function(){var _this=this,dependenciesMap=_lodash2["default"].get(this,"props.dependencies"),domDependencies=0===_lodash2["default"].size(dependenciesMap)?React.createElement("div",null,"No Dependencies"):_lodash2["default"].reduce(dependenciesMap,function(resDomDependencies,depArgObjs,depKey){var totalDepCount=_lodash2["default"].size(depArgObjs)>1?_lodash2["default"].size(depArgObjs)+" Calls":null;_lodash2["default"].size(depArgObjs)>0?_lodash2["default"].size(depArgObjs)+" Uses":null;resDomDependencies.push(React.createElement("div",{key:"dependencies-header-"+depKey},React.createElement(_ControlDetailLink2["default"],{mainText:depKey,subText:totalDepCount})));var dependenciesDetailDom=_lodash2["default"].map(depArgObjs,function(depArgObj,depArgObjIdx){var usageDetailDom=_this.state.useXmlForm?_this._getXmlViewForm(depKey,depArgObj):_this._getTableViewForm(depKey,depArgObj);return React.createElement("div",{key:"dependencies-"+depKey+"-"+depArgObjIdx+"-body",className:"panel panel-info"},React.createElement("div",{className:"panel-heading"},"Dependency #",depArgObjIdx+1),React.createElement("div",{className:"panel-body"},usageDetailDom))});return resDomDependencies.push(dependenciesDetailDom),resDomDependencies},[]);return React.createElement("div",null,React.createElement("div",{className:"mb15"},React.createElement("ul",{className:"nav nav-pills nav-justified"},React.createElement("li",{role:"presentation",className:this.state.useXmlForm?"":"active",onClick:function(){return _this.changeViewFormat("table")}},React.createElement("a",null,"Table Form")),React.createElement("li",{role:"presentation",className:this.state.useXmlForm?"active":"",onClick:function(){return _this.changeViewFormat("xml")}},React.createElement("a",null,"XML Form")))),domDependencies)},_getXmlViewForm:function(tagName,objects){return React.createElement(_KeyValueXmlSyntax2["default"],{objects:objects,tagName:tagName})},_getTableViewForm:function(tagName,objects){return _lodash2["default"].size(objects)>0?React.createElement(_KeyValTable2["default"],{objects:objects,clickToViewDetail:!1,showHeader:!1,showIndex:!1}):React.createElement("div",null,"Called with No Arguments")},changeViewFormat:function(newForm){this.setState({useXmlForm:"xml"===newForm})},shouldComponentUpdate:function(nextProps,nextState){return!0}});exports["default"]=DependenciesDetailTable;