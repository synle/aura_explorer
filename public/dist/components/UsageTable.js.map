//Developed by Sy Le. Coprighted by Salesforce.com 2015
{"version":3,"sources":["UsageTable.js"],"names":[],"mappings":"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","file":"UsageTable.js","sourcesContent":["//external\nimport _ from 'lodash';\nimport util from '../util';\n\n//internal component\nimport KeyValTableComponent from './KeyValTable';\nimport KeyValueXmlSyntaxComponent from './KeyValueXmlSyntax';\nimport ControlDetailLink from './ControlDetailLink';\n\n//definitions\nconst UsageTable = React.createClass({\n\tgetInitialState(){\n\t\treturn {\n\t\t\tuseXmlForm : false\n\t\t}\n\t},\n\trender(){\n\t\tconst selectedControlName = this.props.selectedControlName;\n\t\tconst usageMaps = this.props.usage;\n\n\t\tconst allUsagesDom = _.map(\n\t\t\tusageMaps,\n\t\t\t(usageDetails, callerControlName) =>{\n\t\t\t\tconst usagesDom = _.map(\n\t\t\t\t\tusageDetails,\n\t\t\t\t\t(usageDetail, idx) => {\n\t\t\t\t\t\tconst usageDetailDomKey = `${selectedControlName}-${callerControlName}-${idx}-usage}`;\n\t\t\t\t\t\tconst attributeDetails = usageDetail.attribs;\n\n\t\t\t\t\t\tconst usageDetailDom = this.state.useXmlForm\n\t\t\t\t\t\t\t? this._getXmlViewForm   (selectedControlName, attributeDetails )\n\t\t\t\t\t\t\t: this._getTableViewForm (selectedControlName, attributeDetails );\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={usageDetailDomKey} className=\"panel panel-default\">\n\t\t\t\t\t\t\t\t<div className=\"panel-heading\">Usage #{idx + 1}</div>\n\t\t\t\t\t\t\t\t{usageDetailDom}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tconst curControlUsageCount = _.size(usageDetails) > 1\n\t\t\t\t\t? `${_.size(usageDetails)} References`\n\t\t\t\t\t: null;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div key={`${selectedControlName}-${callerControlName}-usage}`}>\n\t\t\t\t\t\t<div><ControlDetailLink mainText={callerControlName} subText={curControlUsageCount} /></div>\n\t\t\t\t\t\t{usagesDom}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\n\t\treturn (\n\t\t\t<div key={`${selectedControlName}-usage-${new Date()}`}>\n\t\t\t\t<div className=\"mb15\">\n\t\t\t\t\t<ul className=\"nav nav-pills nav-justified\">\n\t\t\t\t\t\t<li role=\"presentation\" className={!this.state.useXmlForm ? 'active' : ''} onClick={()=> this.changeViewFormat('table')}>\n\t\t\t\t\t\t\t<a>Table Form</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li role=\"presentation\" className={this.state.useXmlForm ? 'active' : ''} onClick={()=> this.changeViewFormat('xml')}>\n\t\t\t\t\t\t\t<a>XML Form</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div>{allUsagesDom}</div>\n\t\t\t</div>\n\t\t);\n\t},\n\t_getXmlViewForm(tagName, objects){\n\t\treturn (\n\t\t\t<KeyValueXmlSyntaxComponent\n\t\t\t\tobjects={objects}\n\t\t\t\ttagName={tagName} />\n\t\t);\n\t},\n\t_getTableViewForm(tagName, objects){\n\t\treturn _.size(objects) > 0\n\t\t? (\n\t\t\t<KeyValTableComponent\n\t\t\t\tobjects={objects}\n\t\t\t\tclickToViewDetail={false}\n\t\t\t\tshowHeader={false}\n\t\t\t\tshowIndex={false} />\n\t\t)\n\t\t: <div>Called with No Arguments</div>;\n\t},\n\tchangeViewFormat(newForm){\n\t\tthis.setState({\n\t\t\tuseXmlForm: newForm === 'xml'\n\t\t});\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// return nextProps.selectedControlName !== this.props.selectedControlName;\n\t\treturn true;//always update\n\t}\n});\n\n\nexport default UsageTable;"],"sourceRoot":"/source/"}