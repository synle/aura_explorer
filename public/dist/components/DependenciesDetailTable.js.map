//Developed by Sy Le. Coprighted by Salesforce.com 2015
{"version":3,"sources":["DependenciesDetailTable.js"],"names":[],"mappings":"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","file":"DependenciesDetailTable.js","sourcesContent":["//external\nimport _ from 'lodash';\nimport util from '../util';\n\n//internal\nimport ControlDetailLink from './ControlDetailLink';\nimport KeyValueXmlSyntaxComponent from './KeyValueXmlSyntax';\n\n//definitions\nconst DependenciesDetailTable = React.createClass({\n\tgetInitialState(){\n\t\treturn {\n\t\t\tuseXmlForm : false\n\t\t}\n\t},\n\trender(){\n\t\tconst dependenciesMap = _.get(this, 'props.dependencies');\n\t\tconst domDependencies = _.size(dependenciesMap) === 0\n\t\t\t\t? (<div>No Dependencies</div>)\n\t\t\t\t: _.reduce(\n\t\t\t\t\tdependenciesMap,\n\t\t\t\t\t(resDomDependencies, depArgObjs, depKey) => {\n\t\t\t\t\t\tconst uniqueArgList = ['idx'].concat( util.getUniqueArgumentsList(depArgObjs) );\n\n\n\t\t\t\t\t\t//push the header\n\t\t\t\t\t\tconst depCount = _.size(depArgObjs) > 0 ? `${_.size(depArgObjs)} Uses`\n\t\t\t\t\t\t\t: null;//how many time does this use this external component\n\n\t\t\t\t\t\tresDomDependencies.push(\n\t\t\t\t\t\t\t<div key={`dependencies-header-${depKey}`}>\n\t\t\t\t\t\t\t\t<ControlDetailLink mainText={depKey} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//append the detail usage\n\t\t\t\t\t\tresDomDependencies.push(\n\t\t\t\t\t\t\tthis.state.useXmlForm\n\t\t\t\t\t\t\t\t? this._getXmlViewForm(depKey, uniqueArgList, depArgObjs)\n\t\t\t\t\t\t\t\t: this._getTableViewForm(depKey, uniqueArgList, depArgObjs)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//return\n\t\t\t\t\t\treturn resDomDependencies;\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\n\n\n\t\t//render return\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"mb15\">\n\t\t\t\t\t<ul className=\"nav nav-pills nav-justified\">\n\t\t\t\t\t\t<li role=\"presentation\" className={!this.state.useXmlForm ? 'active' : ''} onClick={()=> this.changeViewFormat('table')}>\n\t\t\t\t\t\t\t<a>Table Form</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li role=\"presentation\" className={this.state.useXmlForm ? 'active' : ''} onClick={()=> this.changeViewFormat('xml')}>\n\t\t\t\t\t\t\t<a>XML Form</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t{domDependencies}\n\t\t\t</div>\n\t\t);\n\t},\n\t_getXmlViewForm(depKey, uniqueArgList, depArgObjs){\n\t\treturn _.map(\n\t\t\tdepArgObjs,\n\t\t\t(depArgObj, depArgIdx) => {\n\t\t\t\treturn (\n\t\t\t\t\t<KeyValueXmlSyntaxComponent\n\t\t\t\t\t\tkey={`dependencies-${depKey}-xml-${depArgIdx}`}\n\t\t\t\t\t\tobjects={depArgObj}\n\t\t\t\t\t\ttagName={depKey} />\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t},\n\t_getTableViewForm(depKey, uniqueArgList, depArgObjs){\n\t\t//header with the arg name\n\t\tconst curUsageHeaderList = _.map(\n\t\t\tuniqueArgList,\n\t\t\targName => (<th key={`arg-header-${argName}`}>{argName}</th>)\n\t\t);\n\n\t\t//find unique attributes list\n\t\tconst curUsageDomList = _.map(\n\t\t\tdepArgObjs,\n\t\t\t(depArgObj, depArgIdx) => {\n\t\t\t\tlet curUsageRowCellsDom = _.map(uniqueArgList, (argName, argIdx) => {\n\t\t\t\t\treturn argIdx > 0\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<td key={`dependencies-cell-${depKey}-${depArgIdx}-${argIdx}`}>\n\t\t\t\t\t\t\t\t{depArgObj[argName]}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: <td key={`dependencies-cell-${depKey}-${depArgIdx}-${argIdx}`}>\n\t\t\t\t\t\t\t\t{++depArgIdx}\n\t\t\t\t\t\t\t</td>;\n\t\t\t\t});\n\n\t\t\t\t//return\n\t\t\t\treturn(\n\t\t\t\t\t<tr key={`dependencies-row-${depKey}-${depArgIdx}`}>\n\t\t\t\t\t\t{curUsageRowCellsDom}\n\t\t\t\t\t</tr>\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\n\n\t\treturn (\n\t\t\t<table key={`dependencies-table-${depKey}`} className=\"table table-bordered table-hover table-condensed\">\n\t\t\t\t<thead>\n\t\t\t\t    <tr>\n\t\t\t\t    \t{curUsageHeaderList}\n\t\t\t\t    </tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t    {curUsageDomList}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t);\n\t},\n\tchangeViewFormat(newForm){\n\t\tthis.setState({\n\t\t\tuseXmlForm: newForm === 'xml'\n\t\t});\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// return nextProps.selectedControlName !== this.props.selectedControlName;\n\t\treturn true;//always update\n\t}\n});\n\nexport default DependenciesDetailTable;"],"sourceRoot":"/source/"}