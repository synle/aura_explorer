//Developed by Sy Le. Coprighted by Salesforce.com 2015
{"version":3,"sources":["DependenciesDetailTable.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,IAAM,uBAAuB,GAAG,KAAK,CAAC,WAAW,CAAC;;AACjD,gBAAe,6BAAE;AAChB,SAAO;AACN,aAAU,EAAG,KAAK;GAClB,CAAA;EACD;AACD,OAAM,oBAAE;;;AACP,MAAM,eAAe,GAAG,iBAAE,GAAG,CAAC,IAAI,EAAE,oBAAoB,CAAC,CAAC;AAC1D,MAAM,eAAe,GAAG,iBAAE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAChD;;;;GAA0B,GAC3B,iBAAE,MAAM,CACT,eAAe,EACf,UAAC,kBAAkB,EAAE,UAAU,EAAE,MAAM,EAAK;;AAE3C,OAAM,aAAa,GAAG,iBAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GACtC,iBAAE,IAAI,CAAC,UAAU,CAAC,cACrB,IAAI;;;AAAC,AAGR,OAAM,QAAQ,GAAG,iBAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAM,iBAAE,IAAI,CAAC,UAAU,CAAC,aAC5D,IAAI;;AAAC,AAER,qBAAkB,CAAC,IAAI,CACtB;;MAAK,GAAG,2BAAyB,MAAM,AAAG;IACzC,mDAAmB,QAAQ,EAAE,MAAM,AAAC,EAAC,OAAO,EAAE,aAAa,AAAC,GAAG;IAC1D,CACN;;;AAAC,AAIF,OAAM,qBAAqB,GAAG,iBAAE,GAAG,CAClC,UAAU,EACV,UAAC,SAAS,EAAE,YAAY,EAAK;AAC5B,QAAM,iBAAiB,GAAM,MAAM,SAAI,YAAY,AAAE,CAAC;AACtD,QAAM,cAAc,GAAG,MAAK,KAAK,CAAC,UAAU,GACzC,MAAK,eAAe,CAAC,MAAM,EAAE,SAAS,CAAC,GACvC,MAAK,iBAAiB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAA;;AAE5C,WACC;;OAAK,GAAG,oBAAkB,MAAM,SAAI,YAAY,UAAQ;AACxD,eAAS,EAAC,kBAAkB;KAC3B;;QAAK,SAAS,EAAC,eAAe;;MAAc,YAAY,GAAG,CAAC;MAAO;KAClE,cAAc;KACV,CACL;IACF,CACD,CAAC;;AAEF,qBAAkB,CAAC,IAAI,CACtB,qBAAqB,CACrB;;;AAAC,AAGF,UAAO,kBAAkB,CAAC;GAC1B,EACD,EAAE,CACF;;;AAAC,AAKJ,SACC;;;GACC;;MAAK,SAAS,EAAC,MAAM;IACpB;;OAAI,SAAS,EAAC,6BAA6B;KAC1C;;QAAI,IAAI,EAAC,cAAc,EAAC,SAAS,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,GAAG,EAAE,AAAC,EAAC,OAAO,EAAE;eAAK,MAAK,gBAAgB,CAAC,OAAO,CAAC;QAAA,AAAC;MACvH;;;;OAAiB;MACb;KACL;;QAAI,IAAI,EAAC,cAAc,EAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,GAAG,EAAE,AAAC,EAAC,OAAO,EAAE;eAAK,MAAK,gBAAgB,CAAC,KAAK,CAAC;QAAA,AAAC;MACpH;;;;OAAe;MACX;KACD;IACA;GACL,eAAe;GACX,CACL;EACF;AACD,gBAAe,2BAAC,OAAO,EAAE,OAAO,EAAC;AAChC,SACC;AACC,UAAO,EAAE,OAAO,AAAC;AACjB,UAAO,EAAE,OAAO,AAAC,GAAG,CACpB;EACF;AACD,kBAAiB,6BAAC,OAAO,EAAE,OAAO,EAAC;AAClC,SAAO,iBAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAEzB;AACC,UAAO,EAAE,OAAO,AAAC;AACjB,oBAAiB,EAAE,KAAK,AAAC;AACzB,aAAU,EAAE,KAAK,AAAC;AAClB,YAAS,EAAE,KAAK,AAAC,GAAG,GAEpB;;;;GAAmC,CAAC;EACtC;AACD,iBAAgB,4BAAC,OAAO,EAAC;AACxB,MAAI,CAAC,QAAQ,CAAC;AACb,aAAU,EAAE,OAAO,KAAK,KAAK;GAC7B,CAAC,CAAC;EACH;AACD,sBAAqB,iCAAC,SAAS,EAAE,SAAS,EAAE;;AAE3C,SAAO,IAAI;AAAC,EACZ;CACD,CAAC;;;;AAAC;kBAEY,uBAAuB","file":"DependenciesDetailTable.js","sourcesContent":["//external\nimport _ from 'lodash';\nimport util from '../util';\n\n//internal\nimport ControlDetailLink from './ControlDetailLink';\nimport KeyValTableComponent from './KeyValTable';\nimport KeyValueXmlSyntaxComponent from './KeyValueXmlSyntax';\n\n//definitions\nconst DependenciesDetailTable = React.createClass({\n\tgetInitialState(){\n\t\treturn {\n\t\t\tuseXmlForm : false\n\t\t}\n\t},\n\trender(){\n\t\tconst dependenciesMap = _.get(this, 'props.dependencies');\n\t\tconst domDependencies = _.size(dependenciesMap) === 0\n\t\t\t\t? (<div>No Dependencies</div>)\n\t\t\t\t: _.reduce(\n\t\t\t\t\tdependenciesMap,\n\t\t\t\t\t(resDomDependencies, depArgObjs, depKey) => {\n\t\t\t\t\t\t// const uniqueArgList = ['idx'].concat( util.getUniqueArgumentsList(depArgObjs) );\n\t\t\t\t\t\tconst totalDepCount = _.size(depArgObjs) > 1\n\t\t\t\t\t\t\t? `${_.size(depArgObjs)} Calls`\n\t\t\t\t\t\t\t: null;\n\n\t\t\t\t\t\t//push the header\n\t\t\t\t\t\tconst depCount = _.size(depArgObjs) > 0 ? `${_.size(depArgObjs)} Uses`\n\t\t\t\t\t\t\t: null;//how many time does this use this external component\n\n\t\t\t\t\t\tresDomDependencies.push(\n\t\t\t\t\t\t\t<div key={`dependencies-header-${depKey}`}>\n\t\t\t\t\t\t\t\t<ControlDetailLink mainText={depKey} subText={totalDepCount} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\n\n\t\t\t\t\t\t//detailed usages\n\t\t\t\t\t\tconst dependenciesDetailDom = _.map(\n\t\t\t\t\t\t\tdepArgObjs,\n\t\t\t\t\t\t\t(depArgObj, depArgObjIdx) => {\n\t\t\t\t\t\t\t\tconst usageDetailDomKey = `${depKey}-${depArgObjIdx}`;\n\t\t\t\t\t\t\t\tconst usageDetailDom = this.state.useXmlForm\n\t\t\t\t\t\t\t\t\t? this._getXmlViewForm(depKey, depArgObj)\n\t\t\t\t\t\t\t\t\t: this._getTableViewForm(depKey, depArgObj)\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={`dependencies-${depKey}-${depArgObjIdx}-body`}\n\t\t\t\t\t\t\t\t\tclassName=\"panel panel-info\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"panel-heading\">Dependency #{depArgObjIdx + 1}</div>\n\t\t\t\t\t\t\t\t\t\t{usageDetailDom}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tresDomDependencies.push(\n\t\t\t\t\t\t\tdependenciesDetailDom\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//return\n\t\t\t\t\t\treturn resDomDependencies;\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\n\n\n\t\t//render return\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"mb15\">\n\t\t\t\t\t<ul className=\"nav nav-pills nav-justified\">\n\t\t\t\t\t\t<li role=\"presentation\" className={!this.state.useXmlForm ? 'active' : ''} onClick={()=> this.changeViewFormat('table')}>\n\t\t\t\t\t\t\t<a>Table Form</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li role=\"presentation\" className={this.state.useXmlForm ? 'active' : ''} onClick={()=> this.changeViewFormat('xml')}>\n\t\t\t\t\t\t\t<a>XML Form</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t{domDependencies}\n\t\t\t</div>\n\t\t);\n\t},\n\t_getXmlViewForm(tagName, objects){\n\t\treturn (\n\t\t\t<KeyValueXmlSyntaxComponent\n\t\t\t\tobjects={objects}\n\t\t\t\ttagName={tagName} />\n\t\t);\n\t},\n\t_getTableViewForm(tagName, objects){\n\t\treturn _.size(objects) > 0\n\t\t? (\n\t\t\t<KeyValTableComponent\n\t\t\t\tobjects={objects}\n\t\t\t\tclickToViewDetail={false}\n\t\t\t\tshowHeader={false}\n\t\t\t\tshowIndex={false} />\n\t\t)\n\t\t: <div>Called with No Arguments</div>;\n\t},\n\tchangeViewFormat(newForm){\n\t\tthis.setState({\n\t\t\tuseXmlForm: newForm === 'xml'\n\t\t});\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// return nextProps.selectedControlName !== this.props.selectedControlName;\n\t\treturn true;//always update\n\t}\n});\n\nexport default DependenciesDetailTable;"],"sourceRoot":"/source/"}